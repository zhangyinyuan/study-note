# [阿里云-数据服务概述-学习笔记](https://help.aliyun.com/zh/dataworks/user-guide/data-services-overview?spm=a2c4g.11186623.help-menu-72772.d_2_11_0.761b380c68ZRkS)

以下内容,大量引用于 阿里云

[DataWorks数据服务模块是一个灵活轻量、安全稳定的数据API构建平台](DataWorks数据服务模块是一个灵活轻量、安全稳定的数据API构建平台)

1. API构建平台
   1. 已有的API注册至平台统一管理
   2. 注册生成API



![数据服务](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6774986861/p130679.png)

## 相关概念

- **API（Application Programming Interface ， 应用程序编程接口）**：API是让应用、软件、系统能够面向数据源进行数据交互的接口，数据服务API支持“**读数据**”的操作，可以从数据库、数据表中不断地进行**数据查询**。
- **函数**：作为API过滤器，对API的**请求参数**或**返回参数**进行**加工处理**。当使用函数作为API过滤器时，**前置过滤器**和**后置过滤器**的函数类型需要保持一致，暂不支持对同一API的前置和后置过滤器选择不同的函数类型。



**API分组**

API分组是指针对某一个**功能**或**场景**的**API集合**，也是API网关对API的**最小管理单元**。在阿里云API市场中，一个API分组对应于**一个API商品**。

一个业务流程下可以有多个**API分组**

- 您需要确保当前业务流程下，无文件夹、API、函数和服务编排等其它文件，才能够成功删除业务流程。
- 如果业务流程内存在其它文件，请您先删除所有的文件，再删除该业务流程。

## 数据服务错误代码表

| **错误代码** | **描述**                  | **语义**                                                     |
| ------------ | ------------------------- | ------------------------------------------------------------ |
| 0            | success                   | 数据查询及返回结果成功。                                     |
| 1108110583   | query timeout             | 请求查询超时，API在数据服务和数据库中的整体执行时长超过了API环境配置中所设置的超时时间，导致请求超时。 |
| 1108110519   | param miss                | 请求参数缺失，当API设置了必填的请求参数，但实际请求中存在必填参数未传参。 |
| 1108110584   | api context failed        | 依赖第三方获取上下文失败，上下文信息包括：数据源连接信息、数据源AK信息、租户信息等。 |
| 1108110622   | datasource query error    | 查询数据源失败，可能原因包括：SQL语法错误、数据源未在系统内置10s超时上限内返回执行结果、超过数据源连接数限制等。 |
| 1108110703   | database connection error | 数据源连接失败。                                             |
| 1108113002   | rate limit                | API调用达到阈值上限，已被系统限流。目前API调用均使用公共服务资源组，公共服务资源组的阈值约为每租户200 QPS，超出该阈值将触发调用流量控制。 |

## 数据推送

将数据推送至**Webhook**

1. 通过**简单配置**，实现**定期**将所需的业务数据推送至**多个不同的Webhook**
2. 支持的推送渠道：钉钉群、飞书群、企业微信群以及Teams

## **数据推送服务使用限制**

- 数据推送功能推送至不同对象时的数据大小限制：
  - 推送目标为钉钉，推送数据大小不超过**20KB**。
  - 推送目标为飞书，推送数据大小不超过**20KB**，图片小于**10MB**。
  - 推送目标为企业微信，每个机器人发送的消息不能超过**20条/分钟**。
  - 推送目标为Teams，推送大小不大于**28KB**。

| **功能分类**               | **功能点**             | **向导模式** | **脚本模式** |
| -------------------------- | ---------------------- | ------------ | ------------ |
| 查询对象                   | 单数据源、单数据表查询 | 支持         | 支持         |
| 单数据源、多数据表关联查询 | 不支持                 | 支持         |              |
| 查询条件                   | 数值型等值查询         | 支持         | 支持         |
| 数值型范围查询             | 支持                   | 支持         |              |
| 字符型精确匹配             | 支持                   | 支持         |              |
| 字符型模糊匹配             | 支持                   | 支持         |              |
| 查询结果                   | 字段值原样返回         | 支持         | 支持         |
| 字段值进行数学运算         | 不支持                 | 支持         |              |
| 字段值进行聚合函数运算     | 不支持                 | 支持         |              |
| 返回结果分页               | 支持                   | 支持         |              |
| 查询逻辑                   | mybatis标签            | 不支持       | 支持         |

