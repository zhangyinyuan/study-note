# [生成API](https://help.aliyun.com/zh/dataworks/user-guide/create-an-api-by-using-the-codeless-ui?spm=a2c4g.11186623.help-menu-72772.d_2_11_3_0_1.60e46d73Z3eCOD)

| **参数**       | **描述**                                                     |
| -------------- | ------------------------------------------------------------ |
| **API模式**    | 包括**向导模式**和**脚本模式**，此处选择**向导模式**。       |
| **API名称**    | **支持中文、英文、数字、下划线（_），且只能以英文或中文开头，4~50个字符**。 |
| **API Path**   | API存放的路径，即相对于服务host，API的请求路径。**例如/user**。**说明**支持英文、数字、下划线（_）和连字符（-），且只能以（ /） 开头，不得超过200个字符。 |
| **协议**       | 支持**HTTP**和**HTTPS**。如果您需要通过HTTPS协议调用API，请您发布API至网关后，在API网关控制台绑定独立域名，并上传SSL证书。详情请参见[支持HTTPS](https://help.aliyun.com/zh/api-gateway/traditional-api-gateway/user-guide/enable-https-for-an-api-operation/#topic1144)。 |
| **请求方式**   | 支持**GET**和**POST**。**说明**当**请求方式**选择**GET**时，**请求参数位置**仅支持选择**QUERY**。当请求方式选择**POST**时，**请求参数位置**支持选择**QUERY**和**BODY**。 |
| **返回类型**   | 仅支持**JSON**返回类型。                                     |
| **可见范围**   | 包括**工作空间**和**私有**：**工作空间**：该API对本工作空间内的所有成员可见。**私有**：该API仅对API的负责人可见，且暂不支持授权。**说明**如果设置可见范围为私有，在目录树中，仅自己可见，工作空间内的其他成员不可见。 |
| **标签**       | 从**标签**列表中选择相应的标签，详情请参见[创建及管理API标签](https://help.aliyun.com/zh/dataworks/user-guide/create-and-manage-tags-for-an-api#task-2551188)。**说明**标签名称支持汉字、英文、数字和下划线（_），您最多可以设置5个标签，且每个标签不超过20个字符。 |
| **描述**       | 对API进行简要描述，不得超过2000个字符。                      |
| **目标文件夹** | 存放API的目录，可以在下拉列表选择已创建的业务流程，选定后，会生成API的存放路径。默认格式为：“业务流程/业务流程名称/API”，例如业务流程/ceshi/API。 |





后续会有一堆**正则表达式**, 建议用枚举管理起来



麻雀虽小,五脏俱全. 建议脏腑分明



## 配置过滤器

对入参和出参,进行**二次加工**



## 设置是否**返回结果分页**

在**高级配置**区域，设置是否**返回结果分页**。

- 如果不开启**返回结果分页**，则API默认最多返回2000条记录。
- 如果返回结果可能超过2000条，请开启**返回结果分页**功能，开启后，您可以进入右侧导航栏的**服务资源组**页面，根据资源组类型设置单页条数上限。

**说明**

当数据服务的API在编辑页面右侧导航栏的**返回参数**已经开启了**返回结果分页**，如果您在该API编辑页面的**编写查询SQL**区域，使用SQL语句配置了`limit`限制（即返回结果的条数限制），则该`limit`限制不生效，返回结果的条数限制仍然会以**返回结果分页**的配置内容为准。

开启返回结果分页后，会自动增加以下公共参数：

- 公共请求参数

  - returnTotalNum：用于确定单次请求中是否要返回数据总条数。
  - pageNum：当前页号。
  - pageSize：页面大小，即每页记录数。

- 公共返回参数

  - pageNum：当前页号。
  - pageSize：页面大小，即每页记录数。
  - totalNum：总记录数。

  

## **记录操作日志**

**什么时间,谁, 做了什么事情**

## 通过条件控制返回结果按照不同的表字段进行排序

> 这块可以设计页面,按照设置的字段顺序排序. 页面支持切换顺序?????

- 当`var`的值为1时，使用`order by col01`对结果进行排序。
- 当`var`的值为2时，使用`order by col02`对结果进行排序。
- 当`var`的值为3时，使用`order by col01,col02`对结果进行排序。
- 当`var`的值为4时，使用`order by col02,col01`对结果进行排序。







